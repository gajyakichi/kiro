@import "tailwindcss";

@theme {
  --color-background: #f7f7f5;
  --color-foreground: #37352f;
}

:root {
  --background: #f7f7f5;
  --foreground: #37352f;
  --sidebar-bg: #f1f1ef;
  --card-bg: #ffffff;
  --border-color: rgba(55, 53, 47, 0.09);
  --accent: #2383e2;
  --hover-bg: rgba(55, 53, 47, 0.06);

  /* Semantic Theme Variables */
  --theme-primary: #37352f;
  --theme-primary-bg: rgba(55, 53, 47, 0.05);
  --theme-accent: #2383e2;
  --theme-accent-bg: rgba(35, 131, 226, 0.1);
  --theme-success: #0f7b46;
  --theme-success-bg: rgba(15, 123, 70, 0.1);
  --theme-warning: #dfab01;
  --theme-warning-bg: rgba(223, 171, 1, 0.1);
  --theme-error: #eb5757;
  --theme-error-bg: rgba(235, 87, 87, 0.1);
}

html, body {
  background-color: var(--background) !important;
  color: var(--foreground) !important;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
}

.notion-sidebar {
  background-color: var(--sidebar-bg);
  border-right: 1px solid var(--border-color);
}

.notion-card {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 4px;
  box-shadow: rgba(15, 15, 15, 0.05) 0px 0px 0px 1px, rgba(15, 15, 15, 0.1) 0px 2px 4px;
}

.notion-item {
  padding: 4px 12px;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.1s ease-in;
}

.notion-item:hover {
  background-color: var(--hover-bg);
}

.notion-item.active {
  background-color: var(--hover-bg);
  font-weight: 600;
}

.notion-text-subtle {
  color: rgba(55, 53, 47, 0.75);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: rgba(55, 53, 47, 0.16);
  border-radius: 20px;
}
::-webkit-scrollbar-thumb:hover {
  background: rgba(55, 53, 47, 0.28);
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-in forwards;
}

.prose pre {
  background-color: #f7f7f5 !important;
  color: #37352f !important;
  border: 1px solid var(--border-color);
}

/* VS Code Skin Overrides - Layout & Density Only */
[data-skin="vscode"] body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
  font-size: 13px !important;
  letter-spacing: -0.01em;
}

[data-skin="vscode"] .notion-sidebar {
  padding-top: 0 !important;
  /* Removed background/color overrides to respect theme */
  border-right-width: 1px !important;
}

[data-skin="vscode"] .notion-card {
  border-radius: 0px !important;
  padding: 8px !important;
  font-size: 13px;
  box-shadow: none !important;
  /* Removed background/color overrides to respect theme */
}

[data-skin="vscode"] .notion-item {
  padding: 2px 8px !important;
  border-radius: 0 !important;
  margin-bottom: 0 !important;
  font-size: 13px;
}

[data-skin="vscode"] .notion-item.active {
  font-weight: normal !important;
  border-left: 2px solid var(--theme-primary); /* Use theme variable instead of fixed color */
  /* Keep background active state but use opacity or theme vars if possible, 
     but for now relying on theme's active definition might be safer. 
     If we want 'dense' active style, we can enforce dimensions but let colors be. */
}

[data-skin="vscode"] .notion-text-subtle {
  font-size: 11px;
}

[data-skin="vscode"] h1, [data-skin="vscode"] h2, [data-skin="vscode"] h3 {
  margin-top: 1em !important;
  margin-bottom: 0.5em !important;
  font-weight: 600 !important;
}

[data-skin="vscode"] h1 { font-size: 1.3em !important; }
[data-skin="vscode"] h2 { font-size: 1.1em !important; }

/* VS Code Skin - Git Badge Overrides */
[data-skin="vscode"] .font-mono span.bg-\(--theme-primary-bg\) {
  background-color: transparent !important;
  color: #007acc !important; /* VS Code Blue for hash */
  border: none !important;
  font-family: 'Menlo', 'Monaco', 'Courier New', monospace !important;
  font-weight: normal !important;
  text-decoration: underline; /* Clickable look */
}

[data-skin="vscode"] .text-\[10px\].bg-\(--theme-primary\),
[data-skin="vscode"] .text-\[10px\].bg-\(--theme-accent\) {
  border-radius: 2px !important;
  font-weight: normal !important;
  text-transform: none !important;
  letter-spacing: 0 !important;
  padding: 1px 6px !important;
}

[data-skin="vscode"] .text-\[10px\].notion-text-subtle.bg-\(--theme-primary-bg\) {
  background: transparent !important;
  border: none !important;
  color: #858585 !important;
  padding: 0 !important;
  font-weight: normal !important;
  letter-spacing: 0 !important;
}

/* VS Code Skin - Timeline Density */
[data-skin="vscode"] .timeline-row {
  padding-top: 2px !important;
  padding-bottom: 2px !important;
  border-radius: 0 !important;
  background: transparent !important;
  border-left: 1px solid var(--border-color); /* Gutter line */
  margin-left: -12px !important;
  padding-left: 12px !important;
}

[data-skin="vscode"] .timeline-row:hover {
  background: rgba(128, 128, 128, 0.05) !important;
}

[data-skin="vscode"] .timeline-icon {
  width: 16px !important;
  height: 16px !important;
  border: none !important;
  background: transparent !important;
  box-shadow: none !important;
  opacity: 0.7;
  transform: none !important; /* Disable hover scale */
  /* Make it look like a gutter icon */
}

[data-skin="vscode"] .timeline-icon svg {
  width: 14px !important;
  height: 14px !important;
}

[data-skin="vscode"] summary {
  margin-bottom: 0 !important;
  min-height: 0 !important;
}

/* Hide noisy labels in VS Code mode */
[data-skin="vscode"] span.bg-\(--theme-accent\),
[data-skin="vscode"] span.bg-\(--theme-primary\) {
  display: none !important; /* Hide "Daily Summary", "Task Added" badges */
}

/* Make content font dense */
[data-skin="vscode"] p, 
[data-skin="vscode"] .markdown-content {
  font-size: 13px !important;
  line-height: 1.4 !important;
}

/* VS Code Skin - ThemeLab & Settings Density */
[data-skin="vscode"] .bg-neutral-50, 
[data-skin="vscode"] .bg-white,
[data-skin="vscode"] .rounded-2xl,
[data-skin="vscode"] .rounded-xl,
[data-skin="vscode"] .rounded-lg,
[data-skin="vscode"] .rounded-md {
  border-radius: 0 !important;
}

[data-skin="vscode"] .p-6, [data-skin="vscode"] .p-8 {
  padding: 12px !important;
}

[data-skin="vscode"] .gap-6, [data-skin="vscode"] .gap-8 {
  gap: 12px !important;
}

[data-skin="vscode"] button {
  text-transform: none !important;
  letter-spacing: 0 !important;
  font-weight: normal !important;
}

[data-skin="vscode"] .shadow-sm, [data-skin="vscode"] .shadow-lg, [data-skin="vscode"] .shadow-xl, [data-skin="vscode"] .shadow-2xl {
  box-shadow: none !important;
  border: 1px solid var(--border-color) !important;
}
